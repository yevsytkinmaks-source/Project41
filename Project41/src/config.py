# -*- coding: utf-8 -*-
"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è Telegram –±–æ—Ç–∞ RU–£—á–µ–±–Ω–∏–∫
–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –±–æ—Ç–∞

–ê–≤—Ç–æ—Ä: –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã RU–£—á–µ–±–Ω–∏–∫
–í–µ—Ä—Å–∏—è: 1.0.0
"""

import os
from typing import Dict, List, Optional

# =============================================================================
# –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê
# =============================================================================

BOT_CONFIG = {
    # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ—Ç @BotFather –≤ Telegram)
    'token': os.getenv('BOT_TOKEN', 'demo_token'),
    
    # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –±–æ—Ç–∞ (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
    'admin_id': int(os.getenv('ADMIN_ID', '123456789')) if os.getenv('ADMIN_ID', '123456789').isdigit() else 123456789,
    
    # –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    'max_file_size_mb': 50,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –ú–ë
    'rate_limit_requests': 10,  # –ú–∞–∫—Å–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    'rate_limit_window': 60,  # –û–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –ª–∏–º–∏—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    'database_url': os.getenv('DATABASE_URL', 'sqlite:///bot_database.db'),
    
    # –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
    'debug_mode': os.getenv('DEBUG', 'True').lower() == 'true',
}

# =============================================================================
# –¢–ï–ö–°–¢–û–í–´–ï –°–û–û–ë–©–ï–ù–ò–Ø –ë–û–¢–ê
# =============================================================================

MESSAGES = {
    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    'welcome': """
üéì <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ RU–£—á–µ–±–Ω–∏–∫!</b>

–≠—Ç–æ –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —à–∫–æ–ª—å–Ω—ã—Ö —É—á–µ–±–Ω–∏–∫–æ–≤.
–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ —É—á–µ–±–Ω–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.

üìö <b>–ß—Ç–æ —è —É–º–µ—é:</b>
‚Ä¢ –ü–æ–∏—Å–∫ —É—á–µ–±–Ω–∏–∫–æ–≤ –ø–æ –∫–ª–∞—Å—Å–∞–º –∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º
‚Ä¢ –ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF
‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–∞—Ö –∏ –∏–∑–¥–∞–Ω–∏—è—Ö

üöÄ <b>–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:</b>
/search - –ü–æ–∏—Å–∫ —É—á–µ–±–Ω–∏–∫–æ–≤
/help - –ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ–º–æ—â—å

<i>–£–¥–∞—á–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è! üìñ‚ú®</i>
    """,
    
    'help': """
‚ùì <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é RU–£—á–µ–±–Ω–∏–∫</b>

üîç <b>–ü–æ–∏—Å–∫ —É—á–µ–±–Ω–∏–∫–æ–≤:</b>
‚Ä¢ /search - –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –ø–æ–∏—Å–∫–∞
‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å –∏ –ø—Ä–µ–¥–º–µ—Ç
‚Ä¢ –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —É—á–µ–±–Ω–∏–∫
‚Ä¢ –°–∫–∞—á–∞–π—Ç–µ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º

üìã <b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
‚Ä¢ /start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚Ä¢ /search - –ü–æ–∏—Å–∫ —É—á–µ–±–Ω–∏–∫–æ–≤  
‚Ä¢ /help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
‚Ä¢ /about - –û –ø—Ä–æ–µ–∫—Ç–µ

üìö <b>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∞—Å—Å—ã:</b>
1-11 –∫–ª–∞—Å—Å—ã –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π —à–∫–æ–ª—ã

üìñ <b>–ü—Ä–µ–¥–º–µ—Ç—ã:</b>
–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞, –§–∏–∑–∏–∫–∞, –•–∏–º–∏—è, –ë–∏–æ–ª–æ–≥–∏—è, –ì–µ–æ–≥—Ä–∞—Ñ–∏—è, –ò—Å—Ç–æ—Ä–∏—è, –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ, –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ –∏ –¥—Ä—É–≥–∏–µ.

üí° <b>–°–æ–≤–µ—Ç:</b> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏!

<i>–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.</i>
    """,
    
    'about': """
‚ÑπÔ∏è <b>–û –ø—Ä–æ–µ–∫—Ç–µ RU–£—á–µ–±–Ω–∏–∫</b>

üéØ <b>–ù–∞—à–∞ –º–∏—Å—Å–∏—è:</b>
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —à–∫–æ–ª—å–Ω—ã–º —É—á–µ–±–Ω–∏–∫–∞–º –¥–ª—è –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤ –∏ —É—á–∏—Ç–µ–ª–µ–π –†–æ—Å—Å–∏–∏.

üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>
‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {total_users}
‚Ä¢ –£—á–µ–±–Ω–∏–∫–æ–≤: {total_textbooks}  
‚Ä¢ –°–∫–∞—á–∏–≤–∞–Ω–∏–π: {total_downloads}

üèóÔ∏è <b>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º –∏ –∫–ª–∞—Å—Å–∞–º
‚Ä¢ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ PDF —Ñ–∞–π–ª–æ–≤
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚Ä¢ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø

üë®‚Äçüíª <b>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:</b>
–°–∏—Å—Ç–µ–º–∞ RU–£—á–µ–±–Ω–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —à–∫–æ–ª –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.

üíå <b>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:</b>
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞, –º—ã –±—É–¥–µ–º —Ä–∞–¥—ã –∏—Ö —É—Å–ª—ã—à–∞—Ç—å!

<i>–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö! üåü</i>
    """,
    
    # –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
    'error_general': "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.",
    'error_file_not_found': "üìÇ –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.",
    'error_download_failed': "‚¨áÔ∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    'error_rate_limit': "‚è∞ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
    'error_maintenance': "üîß –ë–æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
    'error_no_textbooks': "üìö –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —É—á–µ–±–Ω–∏–∫–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –ø—Ä–µ–¥–º–µ—Ç–∞ –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.",
    
    # –£—Å–ø–µ—à–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    'success_download_started': "‚¨áÔ∏è –ù–∞—á–∏–Ω–∞—é —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞...",
    'success_download_complete': "‚úÖ –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!",
    
    # –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
    'search_select_class': "üéì –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å:",
    'search_select_subject': "üìö –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç –¥–ª—è {class_name}:",
    'search_select_textbook': "üìñ –ù–∞–π–¥–µ–Ω–Ω—ã–µ —É—á–µ–±–Ω–∏–∫–∏ –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É <b>{subject_name}</b> –¥–ª—è <b>{class_name}</b>:",
    'search_textbook_info': """
üìñ <b>{title}</b>

üë§ <b>–ê–≤—Ç–æ—Ä:</b> {author}
üéì <b>–ö–ª–∞—Å—Å:</b> {class_name}
üìö <b>–ü—Ä–µ–¥–º–µ—Ç:</b> {subject_name}
üìÅ <b>–†–∞–∑–º–µ—Ä:</b> {file_size}
üì• <b>–°–∫–∞—á–∏–≤–∞–Ω–∏–π:</b> {downloads}

üíæ –ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∞–π–ª–∞
    """,
}

# =============================================================================
# –ö–ù–û–ü–ö–ò –ò –ö–õ–ê–í–ò–ê–¢–£–†–ê
# =============================================================================

KEYBOARD_TEXTS = {
    # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
    'search_textbooks': 'üîç –ü–æ–∏—Å–∫ —É—á–µ–±–Ω–∏–∫–æ–≤',
    'help': '‚ùì –ü–æ–º–æ—â—å',
    'about': '‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ',
    'download': '‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å',
    'back': '‚óÄÔ∏è –ù–∞–∑–∞–¥',
    'back_to_menu': 'üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é',
    
    # –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
    'select_class': 'üéì –í—ã–±—Ä–∞—Ç—å –∫–ª–∞—Å—Å',
    'select_subject': 'üìö –í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç',
    'view_textbooks': 'üìñ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —É—á–µ–±–Ω–∏–∫–∏',
}

# =============================================================================
# –ö–õ–ê–°–°–´ –ò –ü–†–ï–î–ú–ï–¢–´
# =============================================================================

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª–∞—Å—Å—ã (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è)
CLASSES = {
    '1': '1 –∫–ª–∞—Å—Å',
    '2': '2 –∫–ª–∞—Å—Å', 
    '3': '3 –∫–ª–∞—Å—Å',
    '4': '4 –∫–ª–∞—Å—Å',
    '5': '5 –∫–ª–∞—Å—Å',
    '6': '6 –∫–ª–∞—Å—Å',
    '7': '7 –∫–ª–∞—Å—Å',
    '8': '8 –∫–ª–∞—Å—Å',
    '9': '9 –∫–ª–∞—Å—Å',
    '10': '10 –∫–ª–∞—Å—Å',
    '11': '11 –∫–ª–∞—Å—Å',
}

# –®–∫–æ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (–ø–æ –§–ì–û–°)
SUBJECTS = {
    'mathematics': '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞',
    'algebra': '–ê–ª–≥–µ–±—Ä–∞',
    'geometry': '–ì–µ–æ–º–µ—Ç—Ä–∏—è',
    'russian': '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫',
    'literature': '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞',
    'physics': '–§–∏–∑–∏–∫–∞',
    'chemistry': '–•–∏–º–∏—è',
    'biology': '–ë–∏–æ–ª–æ–≥–∏—è',
    'geography': '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è',
    'history': '–ò—Å—Ç–æ—Ä–∏—è',
    'social_studies': '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ',
    'english': '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫',
    'german': '–ù–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫',
    'french': '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π —è–∑—ã–∫',
    'informatics': '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞',
    'technology': '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è',
    'art': '–ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ',
    'music': '–ú—É–∑—ã–∫–∞',
    'physical_education': '–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞',
    'safety': '–û–ë–ñ',
    'astronomy': '–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è',
}

# =============================================================================
# –ö–û–ú–ê–ù–î–´ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê
# =============================================================================

ADMIN_COMMANDS = {
    'stats': '/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞',
    'users': '/users - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏', 
    'broadcast': '/broadcast - –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π',
    'maintenance': '/maintenance - –†–µ–∂–∏–º –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è',
    'logs': '/logs - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤',
}

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –§–ê–ô–õ–û–í –ò –ó–ê–ì–†–£–ó–û–ö
# =============================================================================

FILE_CONFIG = {
    # –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
    'allowed_extensions': ['.pdf'],
    'allowed_mime_types': ['application/pdf'],
    
    # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
    'max_file_size_bytes': BOT_CONFIG['max_file_size_mb'] * 1024 * 1024,
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
    'chunk_size': 1024 * 1024,  # 1MB —á–∞–Ω–∫–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
    'timeout_seconds': 300,  # 5 –º–∏–Ω—É—Ç —Ç–∞–π–º–∞—É—Ç –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
}

# =============================================================================
# –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì  
# =============================================================================

LOGGING_CONFIG = {
    'level': 'INFO' if not BOT_CONFIG['debug_mode'] else 'DEBUG',
    'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    'date_format': '%Y-%m-%d %H:%M:%S',
    'encoding': 'utf-8',
}

# =============================================================================
# CALLBACK DATA –ü–ê–¢–¢–ï–†–ù–´
# =============================================================================

CALLBACK_PATTERNS = {
    # –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è callback_data –≤ –∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∞—Ö
    'class_select': 'class_{class_id}',
    'subject_select': 'subject_{class_id}_{subject_id}',
    'textbook_select': 'textbook_{textbook_id}',
    'download': 'download_{textbook_id}',
    'back_to_classes': 'back_classes',
    'back_to_subjects': 'back_subjects_{class_id}',
    'back_to_menu': 'back_menu',
}

# =============================================================================
# –í–ê–õ–ò–î–ê–¶–ò–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò
# =============================================================================

def validate_config() -> List[str]:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
    
    Returns:
        List[str]: –°–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    """
    errors = []
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    if not BOT_CONFIG['token']:
        errors.append("BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    
    if not BOT_CONFIG['database_url']:
        errors.append("DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    
    if not BOT_CONFIG['admin_id']:
        errors.append("ADMIN_ID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤
    if BOT_CONFIG['max_file_size_mb'] <= 0:
        errors.append("max_file_size_mb –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 0")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
    if BOT_CONFIG['rate_limit_requests'] <= 0:
        errors.append("rate_limit_requests –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ 0")
    
    return errors


# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è
_config_errors = validate_config()
if _config_errors and not BOT_CONFIG['debug_mode']:
    print("‚ö†Ô∏è –ù–∞–π–¥–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:")
    for error in _config_errors:
        print(f"  - {error}")
